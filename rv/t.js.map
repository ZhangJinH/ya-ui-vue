{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0ad42e8ab0a0485a7dd1","webpack:///./src/rv/t.js","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///external \"vue\""],"names":["store","Map","C","props","state","slot","vueComponent","el","v","getNormalizeProps","innerTag","innerClass","data","render","h","class","getNormalizeClass","renderVueComponent","$destroy","React","createElement","ref","className","Component","R","V","get","Vue","extend","inheritAttrs","methods","renderReactComponent","attrs","$attrs","$slots","default","listeners","$listeners","outerTag","outerClass","restAttrs","reactProps","Object","keys","forEach","eventName","capitalize","c","ReactDOM","$refs","r","mounted","updated","beforeDestroy","unmountComponentAtNode","str","first","rest","toUpperCase","join","value","type","result","split","filter","length","Array","isArray","extraKeys","reduce","pv","cv","has"],"mappings":"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","file":"t.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"t\"] = factory();\n\telse\n\t\troot[\"t\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0ad42e8ab0a0485a7dd1","/**\r\n * Transform react component to vue component\r\n */\r\n// import {\r\n//   isEqual\r\n// } from 'lodash';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Vue from 'vue';\r\n\r\nvar store = new Map(); // 存储转换过的组件类，不重复生成\r\n\r\n/**\r\n * Transform vue children to react component\r\n */\r\nclass C extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n  }\r\n  renderVueComponent() {\r\n    const props = this.props;\r\n    const slot = props.slot;\r\n    let vueComponent = this.vueComponent;\r\n    if (!vueComponent) {\r\n      const el = this.v;\r\n      const {\r\n        innerTag = 'div',\r\n        innerClass = ''\r\n      } = getNormalizeProps(props);\r\n      vueComponent = new Vue({\r\n        el,\r\n        data: {\r\n          slot\r\n        },\r\n        render(h) {\r\n          return h(innerTag, {\r\n            class: getNormalizeClass(innerClass)\r\n          }, this.slot);\r\n        }\r\n      });\r\n      this.vueComponent = vueComponent;\r\n    } else {\r\n      vueComponent.slot = slot;\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.renderVueComponent();\r\n  }\r\n  // componentWillReceiveProps() {\r\n  // }\r\n  // shouldComponentUpdate() {\r\n  //   return true;\r\n  // }\r\n  componentDidUpdate() {\r\n    this.renderVueComponent();\r\n  }\r\n  componentWillUnmount() {\r\n    if (this.vueComponent) {\r\n      this.vueComponent.$destroy();\r\n      this.vueComponent = null;\r\n    }\r\n  }\r\n  render() {\r\n    const props = this.props;\r\n    const {\r\n      innerTag = 'div',\r\n      innerClass = ''\r\n    } = getNormalizeProps(props);\r\n    return React.createElement(innerTag, {\r\n      ref: (el) => {\r\n        this.v = el;\r\n      },\r\n      className: getNormalizeClass(innerClass, 'react')\r\n    }, null);\r\n  }\r\n}\r\n/**\r\n * 返回转换函数\r\n */\r\nexport default function (R) {\r\n  var V = store.get(R);\r\n  if (!V) {\r\n    V = Vue.extend({\r\n      inheritAttrs: false, // class/style except\r\n      methods: {\r\n        renderReactComponent() {\r\n          const attrs = this.$attrs;\r\n          const slot = this.$slots.default;\r\n          const listeners = this.$listeners;\r\n          // let reactRenderedDom = this.reactRenderedDom; // 兼容preact\r\n          const {\r\n            outerTag,\r\n            innerTag,\r\n            outerClass,\r\n            innerClass,\r\n            ...restAttrs\r\n          } = getNormalizeProps(attrs);\r\n          // 组装成react props\r\n          var reactProps = {\r\n            ...restAttrs\r\n          };\r\n          Object.keys(listeners).forEach((eventName) => {\r\n            reactProps['on' + capitalize(eventName)] = listeners[eventName];\r\n          });\r\n          let c = null;\r\n          // let e = null;\r\n          if (slot) {\r\n            c = React.createElement(C, {\r\n              slot,\r\n              innerTag,\r\n              innerClass\r\n            }, null);\r\n          }\r\n          return ReactDOM.render(React.createElement(R, reactProps, c), this.$refs.r);\r\n        }\r\n      },\r\n      mounted() {\r\n        this.renderReactComponent();\r\n      },\r\n      updated() {\r\n        this.renderReactComponent();\r\n      },\r\n      beforeDestroy() {\r\n        ReactDOM.unmountComponentAtNode(this.$refs.r);\r\n      },\r\n      render(h) {\r\n        const {\r\n          outerTag = 'div',\r\n          outerClass = ''\r\n        } = getNormalizeProps(this.$attrs);\r\n        return h(outerTag, {\r\n          ref: 'r',\r\n          class: getNormalizeClass(outerClass)\r\n        });\r\n      }\r\n    });\r\n  }\r\n  return V;\r\n};\r\n\r\n/**\r\n * 首字母大写\r\n * @param {String} str - string\r\n */\r\nfunction capitalize(str) {\r\n  const [first, ...rest] = str;\r\n  return first.toUpperCase() + rest.join('');\r\n}\r\n/**\r\n * 标准化class\r\n * @param {Mix} value - 混合类型，可能是string/object/array\r\n * @param {String} type - vue/react\r\n */\r\nfunction getNormalizeClass(value, type = 'vue') {\r\n  var result = {};\r\n  if (typeof value === 'string') {\r\n    value = value.split(/\\s+/).filter((v) => {\r\n      return !!v;\r\n    });\r\n    if (value.length) {\r\n      value.forEach((className) => {\r\n        result[className] = true;\r\n      });\r\n    }\r\n  } else if (Array.isArray(value)) {\r\n    value.forEach((className) => {\r\n      result[className] = true;\r\n    });\r\n  } else {\r\n    result = value;\r\n  }\r\n  if (type === 'react') {\r\n    result = Object.keys(result).filter((className) => {\r\n      return result[className];\r\n    }).join(' ');\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * 标准化属性\r\n * @param {Object} props - 待格式化属性\r\n */\r\nfunction getNormalizeProps(props) {\r\n  const extraKeys = new Map([\r\n    ['outer-tag', 'outerTag'],\r\n    ['outer-class', 'outerClass'],\r\n    ['inner-tag', 'innerTag'],\r\n    ['inner-class', 'innerClass']\r\n  ]);\r\n  return Object.keys(props).reduce((pv, cv) => {\r\n    if (extraKeys.has(cv)) {\r\n      return {\r\n        ...pv,\r\n        [extraKeys.get(cv)]: props[cv]\r\n      };\r\n    } else {\r\n      return {\r\n        ...pv,\r\n        [cv]: props[cv]\r\n      };\r\n    }\r\n  }, {});\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/rv/t.js","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"react-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"vue\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vue\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}